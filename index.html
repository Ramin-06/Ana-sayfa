<!-- Modal içeriği -->
<div id="productModal" class="modal">
  <span class="close-btn" onclick="closeModal()">&times;</span>
  <div class="modal-content">
    <div class="modal-text" style="width: 100%; padding: 20px;">
      <h3 id="modalTitle"></h3>
      <p id="modalDescription"></p>

      <!-- ml seçenekleri -->
      <div id="ml-options" style="margin: 15px 0;">
        <button class="ml-btn active" data-price="10">30 ml</button>
        <button class="ml-btn" data-price="13">50 ml</button>
      </div>

      <p><strong id="modalPrice"></strong></p>
      <a id="modalWhatsApp" class="whatsapp-btn" target="_blank">WhatsApp’dan Sifariş Ver</a>
    </div>
  </div>
</div>

<script>
  // ml butonlarının tıklanma yönetimi ve fiyat güncelleme
  function setSelectedMlPrice(price) {
    const modalPrice = document.getElementById('modalPrice');
    modalPrice.innerText = 'Fiyat: ' + price + ' ₼';
  }

  // Modal açılırken default fiyatı 10₼ olarak ayarla ve buton eventlerini ata
  function openModal(title, description, price, image) {
    document.getElementById('modalTitle').innerText = title;
    document.getElementById('modalDescription').innerText = description;
    // Görsel yok, kaldırıldı
    document.getElementById('modalWhatsApp').href = `https://wa.me/994515817772?text=Merhaba,%20${encodeURIComponent(title)}%20ürününü%20sipariş%20vermek%20istiyorum.`;
    document.getElementById('productModal').style.display = 'flex';

    // ml seçeneklerini sıfırla ve event ekle
    const mlButtons = document.querySelectorAll('#ml-options .ml-btn');
    mlButtons.forEach(btn => {
      btn.classList.remove('active');
      btn.onclick = () => {
        mlButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        setSelectedMlPrice(btn.dataset.price);
      };
    });
    // Varsayılan seçili 30 ml butonu ve fiyat
    mlButtons[0].classList.add('active');
    setSelectedMlPrice(mlButtons[0].dataset.price);
  }
</script>
